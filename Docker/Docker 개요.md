## Docker
- 어플리케이션을 독립된 환경에서 실행 할 수 있게 해주는 컨테이너 기반의 가상화 플랫폼의 일종
- 어플리케이션을 일관된 환경에서 실행 할 수 있도록 운영체제 레벨의 가상화를 통하여 경량 컨테이너를 제공

### 역사
- 가상화 기술이 나오기 전
  - 한 개의 서버를 하나의 OS, 하나의 프로그램만 운영
  - 비효율적
- 하이퍼 바이저 기반 가상화 출현
  - 논리적으로 공간을 분활하여 VM 이라는 독립적인 가상 환경의 서버 사용
  - 게스트 OS가 다운되어도 다른 게스트 OS는 격리되어 영향이 없음
  - 하이퍼바이저
    - 호스트 시스템에서 다수의 게스트 OS를 구동할 수 있게 하는 소프트웨어
    - 하드웨어와 VM을 모니터링
- 컨테이너 기반 가상화 출현
  - 게스트 OS가 필요 없어 더 가벼움
  - 실행 이미지만 배포하면 되어 기존 게스트 OS를 부팅하는 방법보다 시간이 적게 걸림
  - 호스트 OS 와 동일한 커널을 공유
  - C Group 과 네임 스페이스를 통해 프로세스를 격리

### C Group & 네임 스페이스
- 기존에 리눅스 환경에서 사용되는 기술들
- 도커에선 Hyper-V 나 WSL2를 통해 다른 OS를 사용해도 이런 기술들을 사용 할 수 있음

#### C Group
- CPU 메모리, 네트워크 등 프로세스 그룹의 시스템 리소스 사용량을 관리
- 어떤 앱의 사용량이 너무 많다면 C Group에 넣어 자원 사용 제한 가능

#### 네임 스페이스
- 하나의 시스템에서 프로세스를 격리 시킬 수 있는 가상화 기술
- 독립된 환경을 제공하는 경량 프로세스 가상화 기술


### 가상머신과의 비교
- 가상머신
  - 가상머신은 호스트 운영체제 위에 가상화된 하드웨어 계층을 생성하고, 각 가상 머신은 독립된 운영체제, 커널, 드라이버 등을 가짐
  - 이로 인해 무겁고 높은 자원 소비가 필요
  - 운영체제의 부팅 과정이 필요하므로 오래 걸림
  - 독립된 운영체제를 가져 메모리, 디스크 공간 등 자원을 많이 소비
- Docker 컨테이너
  - Docker 컨테이너는 호스트 운영체제의 커널을 공유하며, 가볍게 격리된 환경을 생성
  - 가상머신보다 더 가벼우며 효율적으로 실행
  - 이미지와 컨테이너 레이어를 사용하여 빠르게 생성되며, 실행 속도가 매우 빠름
  - 컨테이너는 호스트 운영체제의 커널을 공유하므로 가볍고 효율적으로 자원을 활용

#### 이미지
- 코드, 런타임, 시스템 도구, 라이브러리 및 설정 등 응용 프로그램을 실행하는 데 필요한 모든것을 포함하는 가볍고 독립적이며 실행 가능한 소프트웨어 패키지

#### 컨테이너
- 코드와 모든 종속성을 패키징 하여 응용 프로그램이 한 환경에서 다른 환경으로 빠르고 안정적으로 실행되도록 할 수 있는 소프트웨어의 표준 단위
- 이미지의 인스턴스로 비유 할 수 있음

### Docker run 순서
1. docker run 이미지이름 입력
2. 로컬에 Cache 가 존재하는지 확인
3. 없는경우 Docker Hub 에서 이미지를 다운로드 후 로컬에 캐싱
4. 이미지를 이용하여 컨테이너 생성
5. 컨테이너 실행

### 이미지로 컨테이너를 만드는 과정
1. docker run 이미지이름 입력
2. 도커 이미지에 있는 파일 스냅샷을 컨테이너 하드 디스크로 이동
3. 이미지에서 갖고있던 명령어(컨테이너 실행시 사용되는 명령어)를 이용하여 실행됨


